---
# Generated from DITA source
layout: base
title: 'Example: Single ditavalref on a branch'
description: 'A single ditavalref element can be used to supply filtering
    conditions for a branch.'
index: '../../toc.html'
---

<nav role="toc" class="col-lg-3"><ul><li><a href="../../introduction/dita-release-overview.html">Introduction</a></li><li><a href="../../archSpec/base/dita-terminology.html">DITA terminology, notation, and conventions</a></li><li><a href="../../archSpec/base/introduction-to-dita.html">Overview of DITA</a></li><li><a href="../../archSpec/base/determining-effective-attribute-values.html">Determining effective attribute values</a></li><li><a href="../../archSpec/base/dita-map-processing.html">DITA map processing</a></li><li><a href="../../archSpec/base/ditaaddressing.html">DITA addressing</a></li><li><a href="../../archSpec/base/behaviors.html">DITA processing</a><ul class="nav nav-list"><li><a href="../../archSpec/base/navigation.html">Navigation</a></li><li><a href="../../archSpec/base/indexes.html">Indexes</a></li><li><a href="../../archSpec/base/conref.html">Content reference (conref)</a></li><li><a href="../../archSpec/base/condproc.html">Conditional processing (profiling)</a></li><li><a href="../../archSpec/base/branch-filtering.html">Branch filtering</a><ul class="nav nav-list"><li><a href="../../archSpec/base/branch-filtering-overview.html">Overview of branch filtering</a></li><li><a href="../../archSpec/base/branch-filtering-single-set.html">Branch filtering: Single condition set for a branch</a></li><li><a href="../../archSpec/base/branch-filtering-multiple-sets.html">Branch filtering: Multiple condition sets for a branch</a></li><li><a href="../../archSpec/base/branch-filtering-resource-names.html">Branch filtering: Impact on resource and key names</a></li><li><a href="../../archSpec/base/branch-filtering-implications-of-processing-order.html">Branch filtering: Implications of processing order</a></li><li><a href="../../archSpec/base/examples-of-branch-filter.html">Examples of branch filtering</a><ul class="nav nav-list"><li class="active"><a href="../../archSpec/base/example-single-ditavalref-on-branch.html">Example: Single ditavalref on a branch</a></li><li><a href="../../archSpec/base/example-multiple-ditavalref.html">Example: Multiple ditavalref elements on a branch</a></li><li><a href="../../archSpec/base/example-ditavalref-as-child-of-map.html">Example: Single ditavalref as a child of map</a></li><li><a href="../../archSpec/base/example-ditavalref-with-mapref.html">Example: Single ditavalref in a reference to a map</a></li><li><a href="../../archSpec/base/example-multiple-ditavalref-as-child-of-map.html">Example: Multiple ditavalref elements as children of map in a root map</a></li><li><a href="../../archSpec/base/example-multiple-ditavalref-with-mapref.html">Example: Multiple ditavalref elements in a reference to a map</a></li><li><a href="../../archSpec/base/example-ditavalref-in-filtered-branch.html">Example: ditavalref within a branch that already uses ditavalref</a></li><li><a href="../../archSpec/base/example-ditavalref-error-conditions.html">Example: ditavalref error conditions</a></li></ul></li></ul></li><li><a href="../../archSpec/base/translation.html">Translation and localization</a></li><li><a href="../../archSpec/base/sort-as-processing.html">Sorting</a></li></ul></li><li><a href="../../archSpec/base/configuration-specialization-and-constraints.html">Configuration, specialization, generalization, and constraints </a></li><li><a href="../../archSpec/base/coding-requirements.html">Coding practices for DITA grammar files</a></li><li><a href="../../langRef/langRef-base.html">Element reference</a></li><li><a href="../../conformance/conformance.html">Conformance</a></li><li><a href="../../acknowledgments/acknowledgments.html">Acknowledgments</a></li><li><a href="../../non-normative/aggregated-RFC-2119-statements.html">Aggregated RFC-2119 statements</a></li><li><a href="../../non-normative/non-normative-information.html">Non-normative information</a></li><li><a href="../../non-normative/revision-history.html">Revision history</a></li></ul></nav><main role="main" class="col-lg-9"><article role="article" aria-labelledby="ariaid-title1">
  <h1 class="title topictitle1" id="ariaid-title1">Example: Single <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> on a branch</h1>
  
  <div class="body conbody"><p class="shortdesc">A single <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> element can be used to supply filtering
    conditions for a branch.</p>
    <div class="example" id="example-single-ditavalref__ditaval-specific-to-branch">
      <p class="p">Consider the following DITA map and the DITAVAL file that is referenced from the
          <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> element:</p>
      <figure class="fig fignone" id="example-single-ditavalref__fig_bcv_nhj_ln"><figcaption><span class="fig--title-label">Figure 1. </span><span class="ph filepath">input.ditamap:</span></figcaption>
        
        <pre class="pre codeblock"><code>
&lt;map&gt;
  &lt;topicref href="intro.dita"/&gt;
  &lt;topicref href="install.dita"&gt;
    &lt;ditavalref href="novice.ditaval"/&gt;
    &lt;topicref href="do-stuff.dita"/&gt;
    &lt;topicref href="advanced-stuff.dita" audience="admin"/&gt;
    &lt;!-- more topics --&gt;
  &lt;/topicref&gt;
  &lt;!-- Several chapters worth of other material --&gt;
&lt;/map&gt;
</code></pre>
      </figure>
      <figure class="fig fignone" id="example-single-ditavalref__fig_b3v_nhj_ln"><figcaption><span class="fig--title-label">Figure 2. </span>Contents of <span class="ph filepath">novice.ditaval</span></figcaption>
        
        <pre class="pre codeblock"><code>&lt;val&gt;
  &lt;prop att="audience" val="novice" action="include"/&gt;
  &lt;prop att="audience" val="admin" action="exclude"/&gt;
&lt;/val&gt;</code></pre>
      </figure>
      <p class="p">When this content is published, the following processing occurs:</p>
      <ul class="ul">
        <li class="li">The first topic (<span class="ph filepath">intro.dita</span>) does not use any of the conditions
          that are specified in <span class="ph filepath">novice.ditaval</span>. It is published normally,
          potentially using other DITAVAL conditions that are specified externally.</li>
        <li class="li">The second topic (<span class="ph filepath">install.dita</span>) is filtered using any external
          conditions as well as the conditions that are specified in
            <span class="ph filepath">novice.ditaval</span>.</li>
        <li class="li">The third topic (<span class="ph filepath">do-stuff.dita</span>) is filtered using any external
          conditions as well as the conditions that are specified in
            <span class="ph filepath">novice.ditaval</span>.</li>
        <li class="li">The fourth topic (<span class="ph filepath">advanced-stuff.dita</span>) is removed from the map
          entirely, because it is filtered out with the conditions that are specified for the
          branch.</li>
      </ul>
      <p class="p">In this example, no resources are renamed based on the
          <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> processing.</p>
      <div class="note note note_note"><span class="note__title">Note:</span> <span class="ph">In cases where the original resource names map
          directly to names or anchors in a deliverable,</span> the absence of renaming ensures that
        external links to those topics are stable regardless of whether a DITAVAL document is
        used.</div>
    </div>
  </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../archSpec/base/examples-of-branch-filter.html" title="The branch filtering examples illustrate the processing expectations for various scenarios that involve ditavalref elements. Processing examples use either before and after sample markup or expanded syntax that shows the equivalent markup without the ditavalref elements.">Examples of branch filtering</a></div></div></nav></article></main>
