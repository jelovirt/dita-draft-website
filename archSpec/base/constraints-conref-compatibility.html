---
# Generated from DITA source
layout: base
title: "Conref compatibility with constraints"
index: "../../toc.html"
---

<nav role="toc" class="col-lg-3"><ul><li><a href="../../introduction/dita-release-overview.html">Introduction</a></li><li><a href="../../archSpec/base/dita-terminology.html">DITA terminology, notation, and conventions</a></li><li><a href="../../archSpec/base/introduction-to-dita.html">Overview of DITA</a></li><li><a href="../../archSpec/base/determining-effective-attribute-values.html">Determining effective attribute values</a></li><li><a href="../../archSpec/base/dita-map-processing.html">DITA map processing</a></li><li><a href="../../archSpec/base/ditaaddressing.html">DITA addressing</a></li><li><a href="../../archSpec/base/behaviors.html">DITA processing</a></li><li><a href="../../archSpec/base/configuration-specialization-and-constraints.html">Configuration, specialization, generalization, and constraints </a><ul class="nav nav-list"><li><a href="../../archSpec/base/ditaspecialization.html">Overview of DITA extension facilities</a></li><li><a href="../../archSpec/base/configuration.html">Configuration</a></li><li><a href="../../archSpec/base/specialization.html">Specialization</a></li><li><a href="../../archSpec/base/generalization.html">Generalization</a></li><li><a href="../../archSpec/base/constraints.html">Constraints</a><ul class="nav nav-list"><li><a href="../../archSpec/base/constraints-overview.html">Overview of constraints</a></li><li><a href="../../archSpec/base/constraint-rules.html">Constraint rules</a></li><li><a href="../../archSpec/base/constraints-processing-interoperability.html">Constraints, processing, and interoperability</a></li><li><a href="../../archSpec/base/constraints-strong-and-weak.html">Weak and strong constraints</a></li><li class="active"><a href="../../archSpec/base/constraints-conref-compatibility.html">Conref compatibility with constraints</a></li><li><a href="../../archSpec/base/examples-constraints.html">Examples: Constraints</a></li></ul></li></ul></li><li><a href="../../archSpec/base/coding-requirements.html">Coding practices for DITA grammar files</a></li><li><a href="../../langRef/langRef-base.html">Element reference</a></li><li><a href="../../conformance/conformance.html">Conformance</a></li><li><a href="../../acknowledgments/acknowledgments.html">Acknowledgments</a></li><li><a href="../../non-normative/aggregated-RFC-2119-statements.html">Aggregated RFC-2119 statements</a></li><li><a href="../../non-normative/non-normative-information.html">Non-normative information</a></li><li><a href="../../non-normative/revision-history.html">Revision history</a></li></ul></nav><main role="main" class="col-lg-9"><article role="article" aria-labelledby="ariaid-title1">
  <h1 class="title topictitle1" id="ariaid-title1">Conref compatibility with constraints</h1>
  
  
  <div class="body conbody"><p class="shortdesc">To determine compatibility between two document instances, a conref processor checks
    the <code class="keyword markupname xmlatt">@domains</code> attribute to confirm whether the referencing document has a
    superset of the vocabulary modules in the referenced document. If one or both of the document
    instances are constrained, the conref processor checks to confirm the compatibility of the
    constraints.</p>
    <p class="p">Conref processors take into account whether constraints are specified as strong. For strong
      constraints, the following rules apply:</p>
    <dl class="dl">
      
        <dt class="dt dlterm">Conref pull</dt>
        
        <dd class="dd">For each vocabulary module used by both document types, the module in the document type
          that contains the referencing element must be less (or equally) constrained than the same
          module in the document type that contains the referenced element. <span class="ph">For example, if each document type uses the highlighting domain
            module, that module must be less (or equally) constrained in the document type that
            contains the referencing element.</span></dd>
      
      
        <dt class="dt dlterm">Conref push</dt>
        <dd class="dd">For each vocabulary module used by both document types, the module in the document type
          that contains the referencing element must be more (or equally) constrained than the same
          module in the document type that contains the referenced element. <span class="ph">For example, if each document type uses the highlighting domain
            module, that module must be more (or equally) constrained in the document type that
            contains the referencing element.</span></dd>
      
    </dl>
    <div class="example" id="conref-compatibility-constraints__example-pull"><h2 class="title sectiontitle">Example: Conref pull and constraint compatibility</h2>
      
      <p class="p">The following table contains scenarios where conref pull occurs
        between constrained and unconstrained document instances. It assumes that the processor is
          <strong class="ph b">not</strong> configured to treat all constraints as strong constraints.</p>
      <table class="simpletable"><colgroup><col style="width:32.967032967032964%"><col style="width:32.967032967032964%"><col style="width:12.08791208791209%"><col style="width:21.978021978021978%"></colgroup><thead><tr class="sthead">
          <th class="stentry" scope="col">Values of <code class="keyword markupname xmlatt">@domains</code> attribute in document type that contains the
            referencing element</th>
          <th class="stentry" scope="col">Values of <code class="keyword markupname xmlatt">@domains</code> attribute in document type that contains the
            referenced element</th>
          <th class="stentry" scope="col">Resolution</th>
          <th class="stentry" scope="col">Comments</th>
        </tr></thead><tbody><tr class="strow">
          <td class="stentry"><code class="ph codeph">(topic)</code></td>
          <td class="stentry"><code class="ph codeph">(topic shortdescReq-c)</code></td>
          <td class="stentry">Allowed </td>
          <td class="stentry">The content model of the referenced topic is more constrained than the
            referencing topic.</td>
        </tr><tr class="strow">
          <td class="stentry"><code class="ph codeph">s(topic shortdescReq-c)</code></td>
          <td class="stentry"><code class="ph codeph">(topic)</code></td>
          <td class="stentry">Prevented</td>
          <td class="stentry">The constraint is specified as a strong constraint, and the content model of the
            referenced topic is less constrained than the referencing topic.</td>
        </tr><tr class="strow">
          <td class="stentry"><code class="ph codeph">(topic shortdescReq-c)</code></td>
          <td class="stentry"><code class="ph codeph">(topic)</code></td>
          <td class="stentry">Allowed </td>
          <td class="stentry">Although the content model of referenced topic is less constrained than the
            referencing topic, this is a weak constraint and so permitted.</td>
        </tr><tr class="strow">
          <td class="stentry"><code class="ph codeph">(topic task) (topic hi-d) (topic hi-d
            basicHighlightingDomain-c)</code></td>
          <td class="stentry"><code class="ph codeph">(topic simpleSection-c) (topic task) (topic task
            simpleStep-c)</code></td>
          <td class="stentry">Allowed </td>
          <td class="stentry">The referenced topic has a subset of the vocabulary modules that are integrated
            into the document-type shell for the referencing topic. Both document types integrate
            constraints, but for modules used in both document types, the referencing topic is less
            constrained than the referenced topic.</td>
        </tr><tr class="strow">
          <td class="stentry"><code class="ph codeph">(topic hi-d) (topic simpleSection-c) s(topic
            simpleP-c)</code></td>
          <td class="stentry"><code class="ph codeph">(topic simpleSection-c) (topic task) (topic hi-d) (topic hi-d
              basicHighlightingDomain-c)</code></td>
          <td class="stentry">Prevented</td>
          <td class="stentry">The referencing document has constraints that are not present in the referenced
            document, including a strong constraint applied to the <code class="keyword markupname xmlelement">&lt;p&gt;</code>
            element.</td>
        </tr></tbody></table>
    </div>
    <div class="example" id="conref-compatibility-constraints__example-push"><h2 class="title sectiontitle">Example: Conref push and constraint compatibility</h2>
      
      <p class="p">The following table contains scenarios where conref push occurs
        between constrained and unconstrained document instances. It assumes that the processor has
          <strong class="ph b">not</strong> been configured to treat all constraints as strong constraints.</p>
      <table class="simpletable"><colgroup><col style="width:32.967032967032964%"><col style="width:32.967032967032964%"><col style="width:12.08791208791209%"><col style="width:21.978021978021978%"></colgroup><thead><tr class="sthead">
          <th class="stentry" scope="col">Values of <code class="keyword markupname xmlatt">@domains</code> attribute in document type that contains the
            referencing element</th>
          <th class="stentry" scope="col">Values of <code class="keyword markupname xmlatt">@domains</code> attribute in document type that contains the
            referenced element</th>
          <th class="stentry" scope="col">Resolution</th>
          <th class="stentry" scope="col">Comments</th>
        </tr></thead><tbody><tr class="strow">
          <td class="stentry"><code class="ph codeph">(topic)</code></td>
          <td class="stentry"><code class="ph codeph">(topic shortdescReq-c)</code></td>
          <td class="stentry">Allowed</td>
          <td class="stentry">Although the content model of the referenced topic is more constrained than the
            referencing topic, this is a weak constraint and so permitted.</td>
        </tr><tr class="strow">
          <td class="stentry"><code class="ph codeph">(topic)</code></td>
          <td class="stentry"><code class="ph codeph">s(topic shortdescReq-c)</code></td>
          <td class="stentry">Prevented</td>
          <td class="stentry">The constraint is specified as a strong constraint, and the content model of the
            referenced topic is more constrained than the referencing topic.</td>
        </tr><tr class="strow">
          <td class="stentry"><code class="ph codeph">(topic shortdescReq-c)</code></td>
          <td class="stentry"><code class="ph codeph">(topic)</code></td>
          <td class="stentry">Allowed</td>
          <td class="stentry">The content model of the referencing topic is more constrained than the
            referenced topic.</td>
        </tr><tr class="strow">
          <td class="stentry"><code class="ph codeph">(topic task) (topic hi-d) (topic hi-d
            basicHighlightingDomain-c)</code></td>
          <td class="stentry"><code class="ph codeph">(topic simpleSection-c) (topic task) (topic task
            simpleStep-c)</code></td>
          <td class="stentry">Allowed </td>
          <td class="stentry">The referenced topic has a subset of the vocabulary modules that are integrated
            into the document-type shell for the referencing topic. For modules used in both
            document types, the referenced topic is more constrained than the referencing topic, but
            this is a weak constraint and so permitted.</td>
        </tr><tr class="strow">
          <td class="stentry"><code class="ph codeph">(topic simpleSection-c) (topic task) (topic hi-d) (topic hi-d
              basicHighlightingDomain-c)</code></td>
          <td class="stentry"><code class="ph codeph">(topic hi-d) (topic simpleSection-c) s(topic
            simpleP-c)</code></td>
          <td class="stentry">Prevented</td>
          <td class="stentry">For the common topic module, the referenced document has more constraints than
            the referencing document, including a strong constraint applied to the
              <code class="keyword markupname xmlelement">&lt;p&gt;</code> element.</td>
        </tr></tbody></table>
    </div>
  </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../archSpec/base/constraints.html" title="Constraint modules define additional constraints for vocabulary modules in order to restrict content models or attribute lists for specific element types, remove certain extension elements from an integrated domain module, or replace base element types with domain-provided, extension element types.">Constraints</a></div></div></nav></article></main>
