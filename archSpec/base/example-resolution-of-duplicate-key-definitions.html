---
# Generated from DITA source
layout: base
title: "Example: Duplicate key definitions within a single map"
index: "../../toc.html"
---

<nav role="toc" class="col-lg-3"><ul><li><a href="../../introduction/dita-release-overview.html">Introduction</a></li><li><a href="../../archSpec/base/dita-terminology.html">DITA terminology, notation, and conventions</a></li><li><a href="../../archSpec/base/introduction-to-dita.html">Overview of DITA</a></li><li><a href="../../archSpec/base/determining-effective-attribute-values.html">Determining effective attribute values</a></li><li><a href="../../archSpec/base/dita-map-processing.html">DITA map processing</a></li><li><a href="../../archSpec/base/ditaaddressing.html">DITA addressing</a><ul class="nav nav-list"><li><a href="../../archSpec/base/id.html">ID attribute</a></li><li><a href="../../archSpec/base/dita-linking.html">DITA linking</a></li><li><a href="../../archSpec/base/uri-based-addressing.html">URI-based (direct) addressing</a></li><li><a href="../../archSpec/base/key-based-addressing.html">Indirect key-based addressing</a><ul class="nav nav-list"><li><a href="../../archSpec/base/keys-core-concepts.html">Core concepts for working with keys</a></li><li><a href="../../archSpec/base/keyScopes.html">Key scopes</a></li><li><a href="../../archSpec/base/using-keys-for-addressing.html">Using keys for addressing</a></li><li><a href="../../archSpec/base/using-keys-to-address-keys-across-scopes.html">Addressing keys across scopes</a></li><li><a href="../../archSpec/base/links-between-maps.html">Cross-deliverable addressing and linking</a></li><li><a href="../../archSpec/base/processing-key-references-general.html">Processing key references</a></li><li><a href="../../archSpec/base/processing-keyref-for-links.html">Processing key references for navigation links and images</a></li><li><a href="../../archSpec/base/processing-keyref-on-topicref.html">Processing key references on topicref elements</a></li><li><a href="../../archSpec/base/processing-keyref-for-text.html">Processing key references to generate text or link text</a></li><li><a href="../../archSpec/base/examples-of-keys.html">Examples of keys</a><ul class="nav nav-list"><li><a href="../../archSpec/base/example-key-definition.html">Examples: Key definition</a></li><li><a href="../../archSpec/base/example-key-definition-for-variable-text.html">Examples: Key definitions for variable text</a></li><li class="active"><a href="../../archSpec/base/example-resolution-of-duplicate-key-definitions.html">Example: Duplicate key definitions within a single map</a></li><li><a href="../../archSpec/base/example-resolution-of-duplicate-key-definitions-multiple-maps.html">Example: Duplicate key definitions across multiple maps</a></li><li><a href="../../archSpec/base/example-keydef-with-keyref.html">Example: Key definition with key reference</a></li><li><a href="../../archSpec/base/example-key-use-for-link-redirection.html">Example: Link redirection</a></li><li><a href="../../archSpec/base/example-keys-removing-link.html">Example: Link modification or removal</a></li><li><a href="../../archSpec/base/example-keys-links-to-terms.html">Example: Links from term or keyword elements</a></li><li><a href="../../archSpec/base/example-keys-conref-redirection.html">Example: conref redirection</a></li><li><a href="../../archSpec/base/example-keys-splitting-combining-targets.html">Example: Keys and collaboration</a></li></ul></li><li><a href="../../archSpec/base/examples-of-scoped-keys.html">Examples of scoped keys</a></li></ul></li></ul></li><li><a href="../../archSpec/base/behaviors.html">DITA processing</a></li><li><a href="../../archSpec/base/configuration-specialization-and-constraints.html">Configuration, specialization, generalization, and constraints </a></li><li><a href="../../archSpec/base/coding-requirements.html">Coding practices for DITA grammar files</a></li><li><a href="../../langRef/langRef-base.html">Element reference</a></li><li><a href="../../conformance/conformance.html">Conformance</a></li><li><a href="../../acknowledgments/acknowledgments.html">Acknowledgments</a></li><li><a href="../../non-normative/aggregated-RFC-2119-statements.html">Aggregated RFC-2119 statements</a></li><li><a href="../../non-normative/non-normative-information.html">Non-normative information</a></li><li><a href="../../non-normative/revision-history.html">Revision history</a></li></ul></nav><main role="main" class="col-lg-9"><article role="article" aria-labelledby="ariaid-title1">
 <h1 class="title topictitle1" id="ariaid-title1">Example: Duplicate key definitions within a single map</h1>
 
 <div class="body conbody"><p class="shortdesc"><span class="ph">In this scenario, a DITA map contains duplicate key
      definitions.</span> How a processor finds the effective key definition depends on document order
      <span class="ph">and the effect of filtering applied to the key
    definitions.</span></p>
    
  <p class="p">In the following example, a map contains two definitions for the key "load-toner":</p>
  <pre class="pre codeblock"><code>&lt;map&gt;
  &lt;!--... --&gt;
  &lt;keydef keys="load-toner" href="model-1235-load-toner-proc.dita"/&gt;
  &lt;keydef keys="load-toner" href="model-4545-load-toner-proc.dita"
  /&gt;
  &lt;!--... --&gt;
&lt;/map&gt;</code></pre>
  <p class="p">In this example, only the first key definition (in document order) of the "load-toner" key is
      effective. All references to the key within the scope of the map resolve to the topic
        <span class="ph filepath">model-1235-load-toner-proc.dita</span>.</p>
  <p class="p">In the following example, a map contains two definitions for the "file-chooser-dialog" key;
   each key definition specifies a different value for the <code class="keyword markupname xmlatt">@platform</code> attribute.</p>
  <pre class="pre codeblock"><code>&lt;map&gt;
  &lt;!--... --&gt;
  &lt;keydef keys="file-chooser-dialog" href="file-chooser-osx.dita" <strong class="ph b">platform="osx"</strong>/&gt;
  &lt;keydef keys="file-chooser-dialog" href="file-chooser-win7.dita" <strong class="ph b">platform="windows7"</strong>/&gt;
  &lt;!--... --&gt;
&lt;/map&gt;</code></pre>
  <p class="p">In this case, the effective key definition is determined not only by the order in which the
      definitions occur, but also by whether the active value of the platform <span class="ph">condition</span> is "osx" or "windows7". Both key definitions are
        <em class="ph i">potentially</em> effective because they have distinct values for the conditional
      attribute. Note that if no active value is specified for the <code class="keyword markupname xmlatt">@platform</code>
      attribute at processing time, then both of the key definitions are present and so the first
      one in document order is the effective definition. </p>
  <div class="p">If the DITAVAL settings are defined so that both "osx" and "windows" values for the
        <code class="keyword markupname xmlatt">@platform</code> attribute are excluded, then neither definition is effective and
      the key is undefined. That case can be avoided by specifying an unconditional key definition
      after any conditional key definitions, for
      example:<pre class="pre codeblock"><code>&lt;map&gt;
  &lt;!--... --&gt;
  &lt;keydef keys="file-chooser-dialog" href="file-chooser-osx.dita" platform="osx"/&gt;
  &lt;keydef keys="file-chooser-dialog" href="file-chooser-win7.dita" platform="windows7"/&gt;
  <strong class="ph b">&lt;keydef keys="file-chooser-dialog" href="file-chooser-generic.dita"/&gt;</strong>
  &lt;!--... --&gt;
&lt;/map&gt;</code></pre></div>
  <p class="p">If the above map is processed with both "osx" and "windows" values for the
        <code class="keyword markupname xmlatt">@platform</code> attribute excluded, then the effective key definition for
      "file-chooser-dialog" is the <span class="ph filepath">file-chooser-generic.dita</span> resource.</p>
 </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../archSpec/base/examples-of-keys.html" title="This section of the specification contains examples and scenarios. They illustrate a wide variety of ways that keys can be used.">Examples of keys</a></div></div></nav></article></main>
