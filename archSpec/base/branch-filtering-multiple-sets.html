---
# Generated from DITA source
layout: base
title: 'Branch filtering: Multiple condition sets for a branch'
description: 'Using multiple ditavalref elements as the children of a map
  or map branch indicates that the map or map branch will be conditionally processed using the
  rules that are specified in the referenced DITAVAL documents.'
index: '../../toc.html'
---

<nav role="toc" class="col-lg-3">
  <ul>
    <li><a href="../../introduction/dita-release-overview.html">Introduction</a></li>
    <li>
      <a href="../../archSpec/base/dita-terminology.html"
        >DITA terminology, notation, and conventions</a
      >
    </li>
    <li><a href="../../archSpec/base/introduction-to-dita.html">Overview of DITA</a></li>
    <li>
      <a href="../../archSpec/base/determining-effective-attribute-values.html"
        >Determining effective attribute values</a
      >
    </li>
    <li><a href="../../archSpec/base/dita-map-processing.html">DITA map processing</a></li>
    <li><a href="../../archSpec/base/ditaaddressing.html">DITA addressing</a></li>
    <li>
      <a href="../../archSpec/base/behaviors.html">DITA processing</a>
      <ul class="nav nav-list">
        <li><a href="../../archSpec/base/navigation.html">Navigation</a></li>
        <li><a href="../../archSpec/base/indexes.html">Indexes</a></li>
        <li><a href="../../archSpec/base/conref.html">Content reference (conref)</a></li>
        <li><a href="../../archSpec/base/condproc.html">Conditional processing (profiling)</a></li>
        <li>
          <a href="../../archSpec/base/branch-filtering.html">Branch filtering</a>
          <ul class="nav nav-list">
            <li>
              <a href="../../archSpec/base/branch-filtering-overview.html"
                >Overview of branch filtering</a
              >
            </li>
            <li>
              <a href="../../archSpec/base/branch-filtering-single-set.html"
                >Branch filtering: Single condition set for a branch</a
              >
            </li>
            <li class="active">
              <a href="../../archSpec/base/branch-filtering-multiple-sets.html"
                >Branch filtering: Multiple condition sets for a branch</a
              >
            </li>
            <li>
              <a href="../../archSpec/base/branch-filtering-resource-names.html"
                >Branch filtering: Impact on resource and key names</a
              >
            </li>
            <li>
              <a href="../../archSpec/base/branch-filtering-implications-of-processing-order.html"
                >Branch filtering: Implications of processing order</a
              >
            </li>
            <li>
              <a href="../../archSpec/base/examples-of-branch-filter.html"
                >Examples of branch filtering</a
              >
            </li>
          </ul>
        </li>
        <li><a href="../../archSpec/base/translation.html">Translation and localization</a></li>
        <li><a href="../../archSpec/base/sort-as-processing.html">Sorting</a></li>
      </ul>
    </li>
    <li>
      <a href="../../archSpec/base/configuration-specialization-and-constraints.html"
        >Configuration, specialization, generalization, constraints, and expansion
      </a>
    </li>
    <li>
      <a href="../../archSpec/base/coding-requirements.html"
        >Coding practices for DITA grammar files</a
      >
    </li>
    <li><a href="../../langRef/langRef-base.html">Element reference</a></li>
    <li><a href="../../conformance/conformance.html">Conformance</a></li>
    <li><a href="../../acknowledgments/acknowledgments.html">Acknowledgments</a></li>
    <li>
      <a href="../../non-normative/aggregated-RFC-2119-statements.html"
        >Aggregated RFC-2119 statements</a
      >
    </li>
    <li>
      <a href="../../non-normative/non-normative-information.html">Non-normative information</a>
    </li>
    <li><a href="../../non-normative/revision-history.html">Revision history</a></li>
  </ul>
</nav>
<main role="main" class="col-lg-9">
  <article role="article" aria-labelledby="ariaid-title1">
    <h1 class="title topictitle1" id="ariaid-title1">
      Branch filtering: Multiple condition sets for a branch
    </h1>

    <div class="body conbody">
      <p class="shortdesc">
        Using multiple
        <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> elements as the
        children of a map or map branch indicates that the map or map branch will be conditionally
        processed using the rules that are specified in the referenced DITAVAL documents.
      </p>
      <p class="p">
        When multiple <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> elements
        occur as children of the same element, the rules in the referenced DITAVAL documents are
        processed independently. This effectively requires a processor to maintain one copy of the
        branch for each <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code>, so
        that each copy can be filtered using different conditions.
      </p>
      <div class="note note note_note">
        <span class="note__title">Note:</span> In most cases, it is possible to create a valid,
        fully-resolved view of a map with branches copied to reflect the different
        <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code>
        conditions. However, this might not be the case when multiple
        <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> elements occur as
        direct children of a root map. In this case, it is possible that the map could be filtered
        in a manner that results in two or more distinct versions of the
        <code class="keyword markupname xmlelement">&lt;title&gt;</code> or metadata. How this is
        handled is processor dependent.
        <span class="ph"
          >For example, when a root map has three
          <code class="keyword markupname xmlelement">&lt;ditavalref&gt;</code> elements as children
          of <code class="keyword markupname xmlelement">&lt;map&gt;</code>, a conversion to EPUB
          could produce an EPUB with three versions of the content, or it could produce three
          distinct EPUB documents.</span
        >
      </div>
      <p class="p">
        When a processor maintains multiple copies of a branch for different condition sets, it has
        to manage situations where a single resource with a single key name results in two distinct
        resources. Key names must be modified in order to allow references to a specific filtered
        copy of the resource; without renaming, key references could only be used to refer to a
        single filtered copy of the resource, chosen by the processor. See
        <a
          class="xref"
          href="branch-filtering-resource-names.html"
          title="When map branches are cloned by a processor in order to support multiple condition sets, processors must manage conflicting resource and key names. The DITAVALref domain includes metadata elements that authors can use to specify how resource and key names are renamed."
          >Branch filtering: Impact on resource and key names</a
        >
        for details on how to manage resource names and key names.
      </p>
    </div>
    <nav role="navigation" class="related-links">
      <div class="familylinks">
        <div class="parentlink">
          <strong>Parent topic:</strong>
          <a
            class="link"
            href="../../archSpec/base/branch-filtering.html"
            title="The branch filtering mechanism enables map authors to set filtering conditions for specific branches of a map. This makes it possible for multiple conditional-processing profiles to be applied within a single publication."
            >Branch filtering</a
          >
        </div>
      </div>
    </nav>
  </article>
</main>
